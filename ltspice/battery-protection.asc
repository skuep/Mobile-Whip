Version 4
SHEET 1 1240 680
WIRE 304 -144 240 -144
WIRE 624 -144 304 -144
WIRE 720 -144 624 -144
WIRE 880 -144 720 -144
WIRE 1008 -144 976 -144
WIRE 1184 -144 1008 -144
WIRE 240 -80 240 -144
WIRE 720 -80 720 -144
WIRE 304 -64 304 -80
WIRE 304 -64 288 -64
WIRE 336 -64 304 -64
WIRE 432 -64 416 -64
WIRE 896 -64 896 -96
WIRE 1008 -64 1008 -144
WIRE 1184 -64 1184 -144
WIRE 624 -16 624 -144
WIRE 720 48 720 0
WIRE 896 48 896 16
WIRE 896 48 720 48
WIRE 432 80 432 -64
WIRE 896 80 896 48
WIRE 624 112 624 64
WIRE 848 112 624 112
WIRE 864 112 848 112
WIRE 1184 112 1184 16
WIRE 848 160 848 112
WIRE 1008 160 1008 16
WIRE 1008 160 848 160
WIRE 240 176 240 16
WIRE 896 192 896 144
WIRE 624 224 624 192
WIRE 240 320 240 256
FLAG 240 320 0
FLAG 432 80 0
FLAG 896 192 0
FLAG 624 224 0
FLAG 1184 112 0
SYMBOL voltage 240 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=.1 Cpar=1p
SYMATTR InstName V1
SYMATTR Value PWL(0 4.2 100m 4.2 200m 0 300m -4.2 400m -4.2 500m 0 600m 4.2)
SYMBOL pmos 288 16 R180
SYMATTR InstName M1
SYMATTR Value SI3445DV
SYMBOL pmos 976 -96 M270
SYMATTR InstName M2
SYMATTR Value SI3445DV
SYMBOL res 704 -96 R0
SYMATTR InstName R1
SYMATTR Value 5.1K
SYMBOL res 608 -32 R0
SYMATTR InstName R2
SYMATTR Value 100K
SYMBOL res 608 96 R0
SYMATTR InstName R3
SYMATTR Value 100K
SYMBOL res 1168 -80 R0
SYMATTR InstName R4
SYMATTR Value 40
SYMBOL res 880 -80 R0
SYMATTR InstName R5
SYMATTR Value 1K
SYMBOL res 432 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1K
SYMBOL TLV431 880 144 M180
SYMATTR InstName U1
SYMBOL res 992 -80 R0
SYMATTR InstName R7
SYMATTR Value 330K
SYMBOL zener 320 -80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value UFZV6_2B
TEXT 72 472 Left 2 !.tran 0 1 0 1m
TEXT 72 496 Left 2 !.inc TLV431.lib
